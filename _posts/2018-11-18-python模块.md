---
layout: post
title:  Python 模块
date:   2018-11-18 23:52:00 +0800
categories: 技术
tag: python
---


os模块
---
	os.popen('cmd').read() 执行某个系统命令,:输出命令结果
	os.getcwd()  获取当前操作目录
	os.makedirs(r"C:\a\b\c")  递归的创建目录
	os.removedirs(r"C:\a\b\c")  删除空目录
	os.mkdir(r"C:\a")  创建目录
	os.rmdir(r"C:\a")  删除目录
	os.listdir(".")  列出目录下的东西
	os.rename("oldname","newname")
	os.stat("path/filename") 获取文件或者目录信息
	os.sep 输出操作系统特定的路径分隔符
	os.linesep 输出当前平台使用的行终止符
	os.pathsep 输出用于分割文件路径的字符串，多用于环境变量
	os.environ 输出环境变量
	os.name 显示系统名
	os.system("df -h") 执行命令,如果运行成功，它将返回 0 ，如果运行失败，将返回一个错误代码
	os.path,abspath(__file__)  某文件的绝对路径
	os.path.split()
	os.path.dirname()目录名
	os.path.basename() 取文件名
	os.path.exists(r"C:\") 判断文件是否存在
	os.path.isabs() 判断是否是绝对路径
	os.path.isfile() 判断是否是文件


time模块
---
	time.strftime("%Y/%m/%d-%H:%M:%S") 返回自定义格式的时间，'2018/11/27-10:17:28'
	time.time() 返回当前时间的时间戳（1970纪元后经过的浮点秒数)
	time.localtime() 作用是格式化时间戳为本地的时间。返回的是元组。
	time.asctime(time.localtime()) "Tue Dec 11 18:07:14 2008"24个字符的字符串
	time.sleep(3) 推迟调用线程的运行，挂起时间


paramiko
---
	(1)用密码ssh
	cmd = 'df -h'
	s = paramiko.SSHClient()　　#绑定实例
	s.load_system_host_keys()　　#加载本机HOST主机文件
	s.set_missing_host_key_policy(paramiko.AutoAddPolicy())　　#目的是接受不在本地Known_host文件下的主机。取消第一次ssh时的交互
	s.connect(host='1.1.1.1',22,user='root',password='123456',timeout=5)　　#远程连接
	sdtin,stdout,sdterr = s.exec_command(cmd)　　#执行命令并绑定实例，sdtin输入sdtout输出sdterr错误
	results = sdtout.read(),sdterr.read()
	(2)使用key登陆
	pkey_file = '/home/zhangshun/.ssh/id_rsa'
	key = paramiko.RSAKey.from_private_key_file(pkey_file)
	s.conect(host,port,pkey=key,timeot=5)
	(3)paramiko SFTP使用
	s = paramiko.Transport((host='1.1.1.1',22))
	s.connect(username=user,password=password)　　#连接
	sftp = paramiko.SFTPClient.from_transport(s)　　#sftp绑定实例
	sftp.get('/tmp/test','zhangshun.py')　　#下载，将host中的/tmp/test文件下载到本地，并命名为zhangshun.py
	sftp.put('zhangshun.py','/tmp/test')　　#上传，将本地zhangshun.py上传到host，并命名为test
	s.close()


pickle
---
	(1)导入文件
	list = [1,2,3]
	file = open('/root/pickle.txt','wb')	
	pickle.dump(list,file)
	file.close()
	(2)加载
	file = open('/root/pickle.txt','rb')
	list = pickle.load(file)		#list = [1,2,3]
	file.close()


json
---
	(1)json.dumps
	data = [ { 'a' : 1, 'b' : 2, 'c' : 3, 'd' : 4, 'e' : 5 } ]
	json = json.dumps(data)
	print json		#[{"a": 1, "c": 3, "b": 2, "e": 5, "d": 4}]
	(2)json.loads
	jsonData = '{"a":1,"b":2,"c":3,"d":4,"e":5}';
	text = json.loads(jsonData)
	print text		#{u'a': 1, u'c': 3, u'b': 2, u'e': 5, u'd': 4}