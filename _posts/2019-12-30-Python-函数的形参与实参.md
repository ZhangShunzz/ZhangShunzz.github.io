---
layout: post
title: "Python：函数的形参与实参"
author: "zhangshun"
header-img: "img/background/21.jpg"
header-mask: 0.2
tags:
  - Python
---

### 一、 形参与实参介绍

函数的参数分为形式参数和实际参数，简称形参和实参：

形参即在定义函数时，括号内声明的参数。形参本质就是一个变量名，用来接收外部传来的值。

实参即在调用函数时，括号内传入的值，值可以是常量、变量、表达式或三者的组合。
```python
#1: 实参是常量
res = func(1,2)

#2: 实参是变量
a = 1
b = 2
res = func(a,b)

#3: 实参是表达式
res = func(10*2,10*func(3,4))

#4: 实参可以是常量、变量、表达式的任意组合
a = 2
res = func(1,a,10*func(3,4))
```
在调用有参函数时，实参(值)会赋值给形参(变量名)。在Python中，变量名与值只是单纯的绑定关系，而对于函数来说，这种绑定关系只在函数调用时生效，在调用结束后解除。
![](/img/暴走漫画/10.png)
### 二、 形参与实参的具体使用

**2.1 位置参数**

位置即顺序，位置参数指的是桉顺序定义的参数，需要从两个角度去看：

1.在定义函数时，按照从左到右的顺序依次定义形参，称为位置形参，凡是按照这种形式定义的形参都必须被传值。
```python
def register(name,age,sex): #定义位置形参： name,age,sex,三者都必须被传值
	print('Name:%s Age:%s Sex:%s' %(name,age,sex))

register() #TypeError： 缺少3个位置参数
```
2.在调用函数时，按照从左到右的顺序依次定义实参，称为位置实参，凡是按照这种形式定义的实参会按照从左到右的顺序与形参一一对应。
```python
register('lili',18,'male') #对应关系为： name='lili',age=28,sex='male'
Name:lili Age:18 Sex:male
```
![](/img/暴走漫画/11.png)

**2.2 关键字参数**

在调用函数时，实参可以是key=value的形式，称为关键字参数，凡是按照这种形式定义的实参，可以完全不按照从左到右的顺序定义，但仍能为指定的形参赋值
```python
register(sex='male',name='lili',age=18)
Name:lili Age:18 Sex:male
```
需要注意在调用函数时，实参也可以是按位置或关键字的混合使用，但**必须保证关键字参数在位置参数后面，且不可以对一个形参重复赋值**。
```python
register('lili',sex='male',age=18) #正确使用
register(name='lili',18,sex='male') #SyntaxError:关键字参数name='lili'在位置参数18之前
register('lili',sex='male',age=18,name='jack') #TypeError:形参name被重复赋值
```
![](/img/暴走漫画/01.png)

**2.3 默认参数**

在定义函数时，就已经为形参赋值，这类形参称之为默认参数，当函数有多个参数时，需要将值经常改变的参数定义为位置参数，而将值改变较少的参数定义成默认参数。例如编写一个注册学生信息的函数，如果大多数学生的性别都为男，那完全可以将形参sex定义成默认参数
```python
def register(name,age,sex='male'):
	print('Name:%s Age:%s Sex:%s' %(name,age,sex))
```
定义时就已经为参数sex赋值，意味着调用时可以不对sex赋值，这降低了函数调用的复杂度
```python
register('tom',17)
Name:tom Age:17 Sex:male #大多数情况，无需为sex传值，默认为male

register('Lili',18,'female')
Name:Lili Age:18 Sex:female #少数情况，可以为sex传值female
```
![](/img/暴走漫画/09.png)
需要注意：<br>
1.默认参数必须放在位置参数之后<br>
2.默认参数的值仅在函数定义阶段被赋值一次<br>
```python
x = 1
def foo(arg=x):
	print(arg)

x = 5 #定义阶段arg已被赋值为1，此处的修改与默认参数arg无任何关系
foo()
1
```
3.默认参数的值通常设为不可变类型
```python
def foo(n,arg=[]):
	arg.append(n)
	return arg

foo(1)
[1]
foo(2)
[1,2]
foo(3)
[1,2,3]
```
每次调用是在上一次的基础上向同一列表增加值，修改如下
```python
def foo(n,arg=None):
	if arg is None:
		arg = []
	arg.append(n)
	return arg

foo(1)
[1]
foo(2)
[2]
foo(3)
[3]
```
![](/img/暴走漫画/08.png)

**2.4 可变长度的参数（\*与\*\*的用法）**

参数的长度可变指的是在调用函数时，实参的个数不固定，而在调用函数时，实参的定义无非是按位置或者按关键字两种形式，这就要求形参提供两种解决方案来分别处理两种形式的可变长度的参数

**2.4.1 可变长度的位置参数**

如果在最后一个形参名前加\*号，那么在调用函数时，溢出的位置参数，都会被\*接收，以元组的形式保存下来赋值给该形参
```python
def foo(x,y,z=1,*args):
	print(x)
	print(y)
	print(z)
	print(args)

foo(1,2,3,4,5,6,7) #实参1、2、3按位置为形参x、y、z赋值，多余的位置实参4、5、6、7都被*接收，以元组的形式保存下来，赋值给args，即args=(4,5,6,7)

1
2
3
(4,5,6,7)
```
如果我们事先生成了一个列表，仍然是可以传值给*args的
```python
def foo(x,y,*args):
	print(x)
	print(y)
	print(args)

L = [3,4,5]
foo(1,2,*L) # *L就相当于位置参数3，4，5，foo(1,2,*L)就等同于foo(1,2,3,4,5)
1
2
(3,4,5)
```
注意：如果在传入L时没有加*，那L就只是一个普通的位置参数了
```python
foo(1,2,L)
1
2
([3,4,5],)
```
如果形参为常规的参数（位置或默认），实参仍可以是*的形式
```python
def foo(x,y,z=3):
	print(x)
	print(y)
	print(z)

foo(*[1,2]) #等同于foo(1,2)
1
2
3
```
如果我们想要求多个值得和，*args就派上用场了
```python
def add(*args):
	sum = 0
	for i in args:
		sum += i
	return sum

add(1,2,3,4,5)
15
```
![](/img/暴走漫画/07.png)

**2.4.2 可变长度的关键字参数**

如果在最后一个形参名前加\*\*号，那么在调用函数时，溢出的关键字参数，都会被\*\*接收，以字典的形式保存下来赋值给该形参

```python
def foo(x,**kwargs): #在最后一个参数kwargs前加**
	print(x)
	print(kwargs)

foo(y=2,x=1,z=3) #溢出的关键字实参y=2,z=3都被**接收，以字典的形式保存下来，赋值给kwargs
1
{'z':3,'y':2}
```
如果我们事先生成了一个字典，仍然可以传值给\*\*kwargs的
```python
def foo(x,y,**kwargs): 
	print(x)
	print(y)
	print(kwargs)

dict = {'a':1,'b':2} 
foo(1,2,**dict) # **dict就相当于关键字参数a=1,b=2，foo(1,2,**dict)就等同于foo(1,2,a=1,b=2)
1
2
{'a':1,'b':2}
```
![](/img/暴走漫画/12.png)