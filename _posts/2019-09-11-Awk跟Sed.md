---
layout: post
title: "Linux——Awk跟Sed总结"
subtitle: "sed 和awk都是Linux常见的命令，也是处理文件的常用的命令。"
author: "zhangshun"
header-img: "img/background/17.jpg"
header-mask: 0.2
tags:
  - Linux
---

Linux 系统的两个神级工具：sed 和 awk，算是运维平时工作中最常用的工具了，所以有必要更加深入的学习一下了。

#### Awk

用例log.txt
```
2 this is a test
3 Are you like awk
This's a test
10 There are orange,apple,mongo
```

**①普通输出**
```
[root@node2 awk]# awk '{print $1,$4}' log.txt
2 a
3 like
This's
10 orange,apple,mongo
```

**②格式化输出**

```
[root@node2 awk]# awk '{printf "%s|%s\n",$1,$4}' log.txt
2|a
3|like
This's|
10|orange,apple,mongo
```
```
[root@node2 awk]# awk '{printf "%02s %-2s %-20s %-20s %s\n",NR,$1,$2,$3,"1"}' log.txt
1 2  this                 is                   1
2 3  Are                  you                  1
3 This's a                    test                 1
4 10 There                are                  1


%[flags][width][.precision]conversion 
% -     5       .2         f

- %是必须的, 任何格式符都由百分号开始
- flags 是可选的,详见下表
- width 是可选的, 表示输出的宽度
- precision 可选的, precision 依赖于 conversion, 详见下表.
- conversion 是必须的, 表示如何格式化参数, 详见下表

conversion：%s——>字符串，%d——>十进制整数
flags：0——>数字前面补0
```

**③-F，按照指定字符分割**

```
[root@node2 awk]# awk -F, '{print $1,$2}'   log.txt
2 this is a test
3 Are you like awk
This's a test
10 There are orange apple
```

**④变量NR，表示当前处理的是第几行**

```
[root@node2 awk]# awk '{print NR")" $1}' log.txt
1)2
2)3
3)This's
4)10
```